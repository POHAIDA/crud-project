(function(){"use strict";var t={232:function(t,e,n){var l=n(9242),a=n(3396);function i(t,e,n,l,i,s){const o=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(o)}var s={},o=n(89);const r=(0,o.Z)(s,[["render",i]]);var u=r,d=n(2483),c=(n(7658),n(7139));const p={class:"main"},h=(0,a._)("h3",null,"CRUD",-1),_={class:"btn_close"},m=(0,a._)("h4",null,"Create user",-1),v=(0,a._)("br",null,null,-1),w=(0,a._)("br",null,null,-1),g=(0,a._)("br",null,null,-1),f={class:"crud-container"},b=(0,a._)("tr",null,[(0,a._)("th",null,"name"),(0,a._)("th",null,"mail"),(0,a._)("th",null,"phone"),(0,a._)("th",null,"event"),(0,a._)("th",null,"date event"),(0,a._)("th",null,"action")],-1),D={class:"btn__container"},y={class:"td-button"},C=["onClick"],k={class:"td-button"},U=["onClick"];function V(t,e,n,i,s,o){const r=(0,a.up)("router-view"),u=(0,a.up)("my-dialog");return(0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)(r),h,(0,a._)("button",{class:"create__user-btn",onClick:e[0]||(e[0]=(...t)=>o.showDialog&&o.showDialog(...t))},"Create user"),(0,a.Wm)(u,{show:s.dialogVisible,"onUpdate:show":e[7]||(e[7]=t=>s.dialogVisible=t)},{default:(0,a.w5)((()=>[(0,a._)("div",_,[m,(0,a._)("button",{onClick:e[1]||(e[1]=t=>s.dialogVisible=!1)},"close")]),(0,a._)("form",{onSubmit:e[6]||(e[6]=(...e)=>t.submitForm&&t.submitForm(...e)),class:"form"},[(0,a.wy)((0,a._)("input",{class:"input","onUpdate:modelValue":e[2]||(e[2]=t=>s.name=t),type:"text",name:"name",placeholder:"Name"},null,512),[[l.nr,s.name]]),v,(0,a.wy)((0,a._)("input",{class:"input","onUpdate:modelValue":e[3]||(e[3]=t=>s.email=t),type:"text",name:"email",placeholder:"email"},null,512),[[l.nr,s.email]]),w,(0,a.wy)((0,a._)("input",{class:"input","onUpdate:modelValue":e[4]||(e[4]=t=>s.phone=t),type:"text",name:"phone",placeholder:"phone"},null,512),[[l.nr,s.phone]]),g,(0,a._)("button",{class:"submit-button",onClick:e[5]||(e[5]=(...t)=>o.addCrud&&o.addCrud(...t))},"Add user")],32)])),_:1},8,["show"]),(0,a._)("div",f,[(0,a._)("div",null,[(0,a._)("table",null,[b,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.users,((e,n)=>((0,a.wg)(),(0,a.iD)("tr",null,[(0,a._)("td",null,(0,c.zw)(e.name),1),(0,a._)("td",null,(0,c.zw)(e.email),1),(0,a._)("td",null,(0,c.zw)(e.phone),1),(0,a._)("td",null,(0,c.zw)(e.events.length),1),(0,a._)("td",null,(0,c.zw)(e.events.length>0?e.events[0].startDate:"-"),1),(0,a._)("div",D,[(0,a._)("td",y,[(0,a._)("button",{onClick:n=>t.$router.push(`/user/${e._id}`),class:"delete-btn"},"USER",8,C)]),(0,a._)("td",k,[(0,a._)("button",{class:"delete-btn",onClick:t=>o.removeCrud(e,n)},"DELETE",8,U)])])])))),256))])])])])}const z=t=>((0,a.dD)("data-v-4f413dda"),t=t(),(0,a.Cn)(),t),O={class:"main__page"},x=z((()=>(0,a._)("tr",null,[(0,a._)("th",null,"user info"),(0,a._)("th",null,"event"),(0,a._)("th",null,"describtion"),(0,a._)("th",null,"start date"),(0,a._)("th",null,"end date")],-1))),$={class:"td_user"},E={class:"user_info"},Z=z((()=>(0,a._)("strong",null,"name: ",-1))),j=z((()=>(0,a._)("strong",null,"email: ",-1))),H=z((()=>(0,a._)("strong",null,"phone: ",-1))),L={class:"User_event"},M={class:"btn_close"},Y=z((()=>(0,a._)("h4",null,"Create event",-1))),K=z((()=>(0,a._)("p",null,"name event",-1))),P=z((()=>(0,a._)("p",null,"description",-1))),T=z((()=>(0,a._)("p",null,"start date",-1))),W=z((()=>(0,a._)("p",null,"end date",-1))),A=z((()=>(0,a._)("br",null,null,-1))),F=z((()=>(0,a._)("button",{class:"submit-button",type:"submit"},"Add event",-1)));function I(t,e,n,i,s,o){const r=(0,a.up)("my-dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",O,[(0,a._)("h3",{onClick:e[0]||(e[0]=e=>t.$router.push("/"))},"CRUD"),(0,a._)("button",{onClick:e[1]||(e[1]=e=>t.$router.push("/")),class:"main_page-btn"},"main page")]),(0,a._)("table",null,[x,(0,a._)("tr",null,[(0,a._)("td",$,[(0,a._)("ul",E,[(0,a._)("li",null,[Z,(0,a.Uk)((0,c.zw)(s.user.name),1)]),(0,a._)("li",null,[j,(0,a.Uk)((0,c.zw)(s.user.email),1)]),(0,a._)("li",null,[H,(0,a.Uk)((0,c.zw)(s.user.phone),1)])])]),(0,a._)("td",null,[(0,a._)("ol",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.user.events,(t=>((0,a.wg)(),(0,a.iD)("li",null,(0,c.zw)(t.event),1)))),256))])]),(0,a._)("td",null,[(0,a._)("ol",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.user.events,(t=>((0,a.wg)(),(0,a.iD)("li",null,(0,c.zw)(t.description),1)))),256))])]),(0,a._)("td",null,[(0,a._)("ol",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.user.events,(t=>((0,a.wg)(),(0,a.iD)("li",null,(0,c.zw)(t.startDate),1)))),256))])]),(0,a._)("td",null,[(0,a._)("ol",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.user.events,(t=>((0,a.wg)(),(0,a.iD)("li",null,(0,c.zw)(t.endDate),1)))),256))])])])]),(0,a._)("div",L,[(0,a._)("button",{class:"create__user-btn",onClick:e[2]||(e[2]=(...t)=>o.showDialog&&o.showDialog(...t))},"Create event"),(0,a.Wm)(r,{show:s.dialogVisible,"onUpdate:show":e[9]||(e[9]=t=>s.dialogVisible=t)},{default:(0,a.w5)((()=>[(0,a._)("div",M,[Y,(0,a._)("button",{onClick:e[3]||(e[3]=t=>s.dialogVisible=!1)},"close")]),(0,a._)("form",{onSubmit:e[8]||(e[8]=(0,l.iM)(((...t)=>o.addEvent&&o.addEvent(...t)),["prevent"])),class:"form"},[K,(0,a.wy)((0,a._)("input",{class:"input",type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>s.event=t),placeholder:"name event"},null,512),[[l.nr,s.event]]),P,(0,a.wy)((0,a._)("textarea",{class:"input",type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>s.description=t),placeholder:"description"},null,512),[[l.nr,s.description]]),T,(0,a.wy)((0,a._)("input",{class:"input",type:"datetime-local","onUpdate:modelValue":e[6]||(e[6]=t=>s.startDate=t),placeholder:"start date:"},null,512),[[l.nr,s.startDate]]),W,(0,a.wy)((0,a._)("input",{class:"input",type:"datetime-local","onUpdate:modelValue":e[7]||(e[7]=t=>s.endDate=t),placeholder:"end date:"},null,512),[[l.nr,s.endDate]]),A,F],32)])),_:1},8,["show"])])],64)}var R=n(4161);function S(t,e,n,i,s,o){return n.show?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"dialog",onClick:e[1]||(e[1]=(0,l.iM)(((...t)=>o.hideDialog&&o.hideDialog(...t)),["stop"]))},[(0,a._)("div",{onClick:e[0]||(e[0]=(0,l.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,a.WI)(t.$slots,"default",{},void 0,!0)])])):(0,a.kq)("",!0)}var q={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}};const B=(0,o.Z)(q,[["render",S],["__scopeId","data-v-75ed5684"]]);var N=B,G={components:{MyDialog:N},data(){return{user:{},event:"",description:"",startDate:"",endDate:"",dialogVisible:!1}},async mounted(){const t=await R.Z.get(`/api/crudList/${this.$route.params.id}`);this.user=t.data},methods:{async addEvent(){try{const t=this.user.events.map((t=>t.startDate));if(t.find((t=>t===this.startDate)))throw new Error("This event date already exists!");const e=await R.Z.post(`/api/crudList/${this.$route.params.id}`,{event:this.event,description:this.description,startDate:this.startDate,endDate:this.endDate});this.user=e.data,this.event="",this.description="",this.startDate="",this.endDate=""}catch(t){console.error(t),alert(t.message)}},showDialog(){this.dialogVisible=!0}}};const J=(0,o.Z)(G,[["render",I],["__scopeId","data-v-4f413dda"]]);var Q=J,X={components:{MyDialog:N,UserPage:Q},name:"App",data(){return{users:[],email:"",name:"",phone:"",dialogVisible:!1}},async mounted(){const t=await R.Z.get("api/crudList/");this.users=t.data},methods:{async addCrud(t){t.preventDefault();const e=await R.Z.post("api/crudList/",{name:this.name,email:this.email,phone:this.phone});this.users.push(e.data),this.name="",this.email="",this.phone="",this.dialogVisible=!1},async removeCrud(t,e){await R.Z["delete"]("api/crudList/"+t._id),this.users.splice(e,1)},showDialog(){this.dialogVisible=!0}}};const tt=(0,o.Z)(X,[["render",V]]);var et=tt;const nt=[{path:"/",component:et},{path:"/user/:id",name:"UserPage",component:Q}],lt=(0,d.p7)({routes:nt,history:(0,d.PO)("/")});var at=lt;const it=(0,l.ri)(u);it.use(at).mount("#app")}},e={};function n(l){var a=e[l];if(void 0!==a)return a.exports;var i=e[l]={exports:{}};return t[l](i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,l,a,i){if(!l){var s=1/0;for(d=0;d<t.length;d++){l=t[d][0],a=t[d][1],i=t[d][2];for(var o=!0,r=0;r<l.length;r++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](l[r])}))?l.splice(r--,1):(o=!1,i<s&&(s=i));if(o){t.splice(d--,1);var u=a();void 0!==u&&(e=u)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[l,a,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var l in e)n.o(e,l)&&!n.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,l){var a,i,s=l[0],o=l[1],r=l[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(r)var d=r(n)}for(e&&e(l);u<s.length;u++)i=s[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(d)},l=self["webpackChunkcrud_app"]=self["webpackChunkcrud_app"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=n.O(void 0,[998],(function(){return n(232)}));l=n.O(l)})();
//# sourceMappingURL=app.fa3b0b2e.js.map